<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Promise.prototype.then</title>
	</head>
	<body>
		<script>
            
			//创建 promise 对象
			const p = new Promise((resolve, reject) => {
				setTimeout(() => {
					resolve('返回成功结果');
				}, 1000);
			});

			// 1.调用 then 方法  then方法的返回结果是 Promise 对象, 对象状态由回调函数的执行结果决定
			const result = p.then(
				(value) => {
					// 1.console.log(value);
					// return value
					// 2.返回一个非promise对象
					 return 'iloveyou';
					// 3. 返回一个promise回调函数
                    //return new Promise((resolve, reject) => {
					// 	resolve('ok');
					// 	//reject('error');
					// });
                     //4. 抛出错误
                      //       throw new Error('出错啦!');
                        //     throw '出错啦!';
				},
				//处理异常情况
				(err) => {
					console.log(err);
				},
			);
			console.log(result);
            result.then( res => {
                console.log(res);
            })
			// //链式调用
			// p.then(value=>{

			// }).then(value=>{

			// }).then()
		</script>
	</body>
</html>
